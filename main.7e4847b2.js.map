{"version":3,"sources":["scripts/main.js"],"names":["count","temp","main","document","querySelector","trigger","addEventListener","e","target","tagName","rows","i","length","prev","prevStr","getElementsByTagName","cellIndex","innerHTML","toLowerCase","split","join","currentStr","Number","parentNode","insertBefore","localeCompare","classList","remove","add","form","createElement","action","method","body","appendChild","inputArray","input","label","setAttribute","id","name","type","htmlFor","age","getElementById","salary","selectList","selectLabel","array","option","value","text","children","after","button","append","preventDefault","data","FormData","tr","obj","Object","fromEntries","entries","item","td","innerText","tdSelect","spawnNotification","title","description","resultClass","container","className","setTimeout","tempClick","index","itemWidth","clientWidth","style","width","replaceChild","evnt","code","toLocaleString"],"mappings":"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","file":"main.7e4847b2.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst main = document.querySelector('table');\nlet count;\nlet trigger = true;\nlet temp;\n\nmain.addEventListener('click', (e) => {\n  switch (e.target.tagName) {\n    case 'TH':\n\n      if (temp !== e.target || trigger === true) {\n        do {\n          count = 0;\n\n          const rows = main.rows;\n\n          for (let i = 2; i < (rows.length - 1); i++) {\n            const prev\n            = rows[i - 1].getElementsByTagName('TD')[e.target.cellIndex];\n            const prevStr = prev.innerHTML.toLowerCase()\n              .split(',').join('').split('$').join('');\n\n            const current\n            = rows[i].getElementsByTagName('TD')[e.target.cellIndex];\n            const currentStr = current.innerHTML.toLowerCase()\n              .split(',').join('').split('$').join('');\n\n            switch (e.target.innerHTML) {\n              case 'Age':\n              case 'Salary':\n                if (Number(prevStr) > Number(currentStr)) {\n                  rows[i].parentNode.insertBefore(rows[i], rows[i - 1]);\n                  count++;\n                }\n                break;\n              default:\n                if (prevStr.localeCompare(currentStr) === 1) {\n                  rows[i].parentNode.insertBefore(rows[i], rows[i - 1]);\n                  count++;\n                }\n                break;\n            }\n          }\n        } while (count > 0);\n\n        trigger = false;\n\n        temp = e.target;\n      } else {\n        do {\n          count = 0;\n\n          const rows = main.rows;\n\n          for (let i = 2; i < (rows.length - 1); i++) {\n            const prev\n            = rows[i - 1].getElementsByTagName('TD')[e.target.cellIndex];\n            const prevStr = prev.innerHTML.toLowerCase()\n              .split(',').join('').split('$').join('');\n\n            const current\n            = rows[i].getElementsByTagName('TD')[e.target.cellIndex];\n            const currentStr = current.innerHTML.toLowerCase()\n              .split(',').join('').split('$').join('');\n\n            switch (e.target.innerHTML) {\n              case 'Age':\n              case 'Salary':\n                if (Number(prevStr) < Number(currentStr)) {\n                  rows[i].parentNode.insertBefore(rows[i], rows[i - 1]);\n                  count++;\n                }\n                break;\n              default:\n                if (prevStr.localeCompare(currentStr) === -1) {\n                  rows[i].parentNode.insertBefore(rows[i], rows[i - 1]);\n                  count++;\n                }\n                break;\n            }\n          }\n        } while (count > 0);\n        trigger = true;\n      }\n  }\n});\n\nmain.addEventListener('click', (e) => {\n  const rows = main.rows;\n\n  for (let i = 0; i < (rows.length); i++) {\n    rows[i].classList.remove('active');\n  }\n\n  for (let i = 1; i < (rows.length - 1); i++) {\n    if (e.target.parentNode === rows[i]) {\n      rows[i].classList.add('active');\n    }\n  }\n});\n\nconst form = document.createElement('form');\n\nform.action = '/';\nform.method = 'get';\nform.classList.add('new-employee-form');\n\ndocument.body.appendChild(form);\n\nconst inputArray = ['Name', 'Position', 'Age', 'Salary'];\n\nfor (let i = 0; i < inputArray.length; i++) {\n  const input = document.createElement('input');\n  const label = document.createElement('label');\n\n  input.setAttribute('data-qa', inputArray[i]);\n  input.id = inputArray[i];\n  input.name = inputArray[i];\n  input.type = 'text';\n  label.htmlFor = inputArray[i];\n  label.innerHTML = inputArray[i];\n\n  label.appendChild(input);\n  form.appendChild(label);\n}\n\nconst age = document.getElementById('Age');\nconst salary = document.getElementById('Salary');\n\nage.type = 'number';\nsalary.type = 'number';\n\n// SELECT\n\nconst selectList = document.createElement('select');\nconst selectLabel = document.createElement('label');\n\nselectList.id = 'mySelect';\nselectLabel.id = 'myLabel';\nselectLabel.htmlFor = 'mySelect';\nselectLabel.innerHTML = 'Office:';\n\nconst array = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n];\n\nfor (let i = 0; i < array.length; i++) {\n  const option = document.createElement('option');\n\n  option.value = array[i];\n  option.text = array[i];\n  selectList.appendChild(option);\n}\n\nselectLabel.appendChild(selectList);\nform.children[1].after(selectLabel);\n\n// SUBMIT\n\nconst button = document.createElement('button');\n\nbutton.type = 'submit';\nbutton.name = 'Save to table';\nbutton.innerHTML = 'Save to table';\nform.append(button);\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const tr = document.createElement('tr');\n  const obj = Object.fromEntries(data.entries());\n\n  for (const item in obj) {\n    const td = document.createElement('td');\n\n    if (item === 'Salary') {\n      td.innerHTML = `$${obj[item]}`;\n      tr.append(td);\n      continue;\n    }\n\n    td.innerText = obj[item];\n    tr.append(td);\n  }\n\n  const tdSelect = document.createElement('td');\n\n  tdSelect.innerHTML = selectList.value;\n  tr.children[1].after(tdSelect);\n\n  // Notification\n\n  function spawnNotification(title, description, resultClass) {\n    const container = document.createElement('DIV');\n\n    container.className = 'notification';\n    container.classList.add(resultClass);\n    container.setAttribute('data-qa', 'notification');\n\n    container.innerHTML = ` \n    <h2 class = 'title'>${title}</h2>\n    <p>${description}</p>\n  `;\n\n    document.body.appendChild(container);\n\n    setTimeout(() => container.remove(), 3000);\n  }\n\n  if (tr.children[0].innerHTML.length < 4\n     || tr.children[3].innerHTML < 18\n     || tr.children[3].innerHTML > 90) {\n    spawnNotification('Error', 'Please enter correct values', 'error');\n  } else {\n    main.append(tr);\n\n    spawnNotification('Success', 'Employee is successfully added', 'success');\n  }\n});\n\n// Editing of table cells\n\nlet tempClick = true;\n\nmain.addEventListener('dblclick', (e) => {\n  const rows = main.rows;\n\n  if (tempClick === true) {\n    for (let i = 1; i < (rows.length - 1); i++) {\n      if (e.target.parentNode === rows[i]) {\n        const input = document.createElement('input');\n        const item = e.target;\n        const index = item.cellIndex;\n        const itemWidth = item.clientWidth;\n\n        input.style.width = `${itemWidth}px`;\n        input.id = item.innerHTML;\n        input.name = item.innerHTML;\n\n        if (index === 3 || index === 4) {\n          input.type = 'number';\n        } else {\n          input.type = 'text';\n        }\n\n        input.classList.add('cell-input');\n\n        rows[i].replaceChild(input, item);\n\n        tempClick = false;\n\n        input.addEventListener('keyup', (evnt) => {\n          if (evnt.code !== 'Enter') {\n            return;\n          }\n\n          if (input.value === '') {\n            input.value = item.innerHTML;\n          }\n\n          switch (index) {\n            case 0:\n            case 1:\n            case 2:\n              item.innerHTML = input.value;\n              break;\n\n            case 3:\n              item.innerHTML = input.value;\n              break;\n\n            case 4:\n              if (input.value !== '') {\n                item.innerHTML\n                = `$${(Number(input.value)).toLocaleString('en')}`;\n              }\n              break;\n          }\n\n          rows[i].replaceChild(item, input);\n\n          tempClick = true;\n        });\n      }\n    }\n  }\n});\n"]}